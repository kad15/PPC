<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" class="svg" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    
    <link rel="alternate" hreflang="en" href="https://ocaml.org/learn/tutorials/map.html">
<link rel="alternate" hreflang="ja" href="https://ocaml.org/learn/tutorials/map.ja.html">
<link rel="alternate" hreflang="zh" href="https://ocaml.org/learn/tutorials/map.zh.html">

    
    <title>Map – OCaml</title>
    <link href="https://ocaml.org/img/favicon32x32.ico" rel="shortcut icon" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Web Fonts -->
    <link href="Map%20%E2%80%93%20OCaml_fichiers/css_002.css" rel="stylesheet">
    <link href="Map%20%E2%80%93%20OCaml_fichiers/css.css" rel="stylesheet">
    <link href="Map%20%E2%80%93%20OCaml_fichiers/css_003.css" rel="stylesheet" type="text/css">
    <!-- Only part of Bootstrap that we don't load from a CDN is our own customized CSS build. -->
    <link href="Map%20%E2%80%93%20OCaml_fichiers/bootstrap.css" rel="stylesheet" media="screen">
    <link href="Map%20%E2%80%93%20OCaml_fichiers/bootstrap_mod.css" rel="stylesheet" media="screen">
    <link href="Map%20%E2%80%93%20OCaml_fichiers/ocamlorg.css" rel="stylesheet" media="screen">
    <script type="text/javascript" defer="defer" async="" src="Map%20%E2%80%93%20OCaml_fichiers/piwik.html"></script><script type="text/javascript" async="" src="Map%20%E2%80%93%20OCaml_fichiers/ga.js"></script><script src="Map%20%E2%80%93%20OCaml_fichiers/collapsed-menu.js" type="text/javascript"></script>
    
    
    <script>
      if (document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#Image', '1.1')) {
      document.documentElement.className = 'svg';
      }
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" onclick="toggleVisibilityMenu('menu-items')">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="https://ocaml.org/"><img src="Map%20%E2%80%93%20OCaml_fichiers/colour-logo-white.svg" class="svg" alt="OCaml"><img src="Map%20%E2%80%93%20OCaml_fichiers/colour-logo-white.png" class="png" alt="OCaml"></a>
          <div id="menu-items" class="nav-collapse collapse">
                        <ul class="nav">
              <li class="active"><a href="https://ocaml.org/learn/">Learn</a></li>
              <li><a href="https://ocaml.org/docs/">Documentation</a></li>
              <li><a href="https://opam.ocaml.org/">Packages</a></li>
              <li><a href="https://ocaml.org/community/">Community</a></li>
            </ul>

            
            <a href="https://github.com/ocaml/ocaml.org/tree/master/site/learn/tutorials/map.md" title="Edit this page" class="edit-this-page pull-right"><!-- Image in CSS
	      --><span>Edit this page</span></a>
	    <script language="JavaScript">
	      // Preload the hover image
	      Image1= new Image(33,33);
	      Image1.src = '/img/edit-hover.svg';
	      Image2= new Image(33,33);
	      Image2.src = '/img/edit-hover.png';
	    </script>
            
            <form id="searchform" class="navbar-search pull-right" method="get" action="//www.google.com/search">
              <input name="as_sitesearch" value="ocaml.org" type="hidden">
              <input placeholder="Search" class="search-query" name="q" type="text">
            </form>
          </div>
        </div>
      </div>
      
    </nav>
    
    <!--								-*-html-*- -->
<div class="container">
  <div class="row">
    
    
    <div class="span1"></div>
    <div id="content-primary" class="span10">
            <div id="tryocaml" class="content" style="display:none;">
        <div class="container">
          <div class="row">
            <div id="lesson-message"></div>
            <div id="languages" style="display:none;"></div>
            <div id="menu-lessons" style="display:none">
              <table class="zebra-striped">
                <tbody><tr><td id="text-x"><code></code></td> <td></td></tr>
              </tbody></table>
            </div>
            <div class="span9 ocaml">
              <div id="toplevel-container">
                <pre id="output"></pre>
                <div id="sharp">#</div>
                <div id="toplevel"></div>
              </div>
              <div id="buttons"></div>
              <div id="graphics-title"></div>
              <div id="graphics"></div>
            </div>
          </div>
        </div>
      </div>

      <!--								-*-html-*- -->
<div class="running-header">
  
  <div class="row">
    <ol class="breadcrumb">
      <li><a href="https://ocaml.org/">Home</a><span class="divider"></span></li>
<li><a href="https://ocaml.org/learn/">Learn</a><span class="divider"></span></li>
<li><a href="https://ocaml.org/learn/tutorials/">OCaml Tutorials</a><span class="divider"></span></li>
<li class="active">Map</li>


    </ol>
    <ul class="translations">
      <li class="active">en</li>
<li><a href="https://ocaml.org/learn/tutorials/map.ja.html">日本語</a></li>
<li><a href="https://ocaml.org/learn/tutorials/map.zh.html">中文</a></li>

    </ul>
  </div>
  
</div>

      <div id="main-contents" class="content">
        <!--   -->
<!--  -->

<h1 id="Map">Map</h1>

<h2 id="ModuleMap">Module Map</h2><p>Map creates a "mapping". For instance, lets say I have some data that is
users and their associated passwords. I could with the Map module create
a mapping from user names to their passwords. The mapping module not
only does this but it does it fairly efficiently. It also does this in a
functional way. In the example below I am going to do a mapping from
strings to strings. However it is possible to do mappings with all
different types of data.</p>
<p>To create a Map I can do:</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">module</span> <span class="ocaml-module">MyUsers</span> <span class="ocaml-variable"></span>= <span class="ocaml-module">Map</span>.Make(String)</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>module MyUsers :
  sig
    type key = String.t
    type 'a t = 'a Map.Make(String).t
    val empty : 'a t
    val is_empty : 'a t -&gt; bool
    val mem : key -&gt; 'a t -&gt; bool
    val add : key -&gt; 'a -&gt; 'a t -&gt; 'a t
    val singleton : key -&gt; 'a -&gt; 'a t
    val remove : key -&gt; 'a t -&gt; 'a t
    val merge :
      (key -&gt; 'a option -&gt; 'b option -&gt; 'c option) -&gt; 'a t -&gt; 'b t -&gt; 'c t
    val compare : ('a -&gt; 'a -&gt; int) -&gt; 'a t -&gt; 'a t -&gt; int
    val equal : ('a -&gt; 'a -&gt; bool) -&gt; 'a t -&gt; 'a t -&gt; bool
    val iter : (key -&gt; 'a -&gt; unit) -&gt; 'a t -&gt; unit
    val fold : (key -&gt; 'a -&gt; 'b -&gt; 'b) -&gt; 'a t -&gt; 'b -&gt; 'b
    val for_all : (key -&gt; 'a -&gt; bool) -&gt; 'a t -&gt; bool
    val exists : (key -&gt; 'a -&gt; bool) -&gt; 'a t -&gt; bool
    val filter : (key -&gt; 'a -&gt; bool) -&gt; 'a t -&gt; 'a t
    val partition : (key -&gt; 'a -&gt; bool) -&gt; 'a t -&gt; 'a t * 'a t
    val cardinal : 'a t -&gt; int
    val bindings : 'a t -&gt; (key * 'a) list
    val min_binding : 'a t -&gt; key * 'a
    val max_binding : 'a t -&gt; key * 'a
    val choose : 'a t -&gt; key * 'a
    val split : key -&gt; 'a t -&gt; 'a t * 'a option * 'a t
    val find : key -&gt; 'a t -&gt; 'a
    val map : ('a -&gt; 'b) -&gt; 'a t -&gt; 'b t
    val mapi : (key -&gt; 'a -&gt; 'b) -&gt; 'a t -&gt; 'b t
  end
</span></code></pre>

<p>OK, we have created the module <code>MyUsers</code>.  Now, lets start putting
something into it.  Where do we start?  Well, let's create an empty
map to begin with:</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let </span><span class="ocaml-variable">m</span> = <span class="ocaml-module">MyUsers</span>.empty</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val m : 'a MyUsers.t = &lt;abstr&gt;
</span></code></pre>

<p>Hummm. An empty map is kind of boring, so lets add some data.</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let </span><span class="ocaml-variable">m</span> = <span class="ocaml-module">MyUsers</span>.add <span class="string">"fred"</span> <span class="string">"sugarplums"</span> m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val m : string MyUsers.t = &lt;abstr&gt;
</span></code></pre>

<p>We have now created a new map—again called <code>m</code>, thus masking the previous
one—by adding
"fred" and his password "sugarplums" to our previous empty map.
There is a fairly important point to make here. Once we have added the
string "sugarplums" we have fixed the types of mappings that we can do.
This means our mapping in our module <code>MyUsers</code> is from strings <em>to strings</em>.
If we want a mapping from strings to integers or a mapping from integers
to whatever we will have to create a different mapping.</p>
<p>Lets add in some additional data just for kicks.</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let </span><span class="ocaml-variable">m</span> = <span class="ocaml-module">MyUsers</span>.add <span class="string">"tom"</span> <span class="string">"ilovelucy"</span> m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val m : string MyUsers.t = &lt;abstr&gt;
</span><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let </span><span class="ocaml-variable">m</span> = <span class="ocaml-module">MyUsers</span>.add <span class="string">"mark"</span> <span class="string">"ocamlrules"</span> m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val m : string MyUsers.t = &lt;abstr&gt;
</span><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let </span><span class="ocaml-variable">m</span> = <span class="ocaml-module">MyUsers</span>.add <span class="string">"pete"</span> <span class="string">"linux"</span> m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val m : string MyUsers.t = &lt;abstr&gt;
</span></code></pre>

<p>Now that we have some data inside of our map, wouldn't it be nice
to be able to view that data at some point? Lets begin by creating a
simple print function.</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="governing">let</span> <span class="ocaml-function">print_users</span> <span class="ocaml-variable">key password </span>=
    print_string(key ^ <span class="string">" "</span> ^ password ^ <span class="string">"\n"</span>)</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>val print_users : string -&gt; string -&gt; unit = &lt;fun&gt;
</span></code></pre>

<p>We have here a function that will take two strings, a key and a pasword,
and print them out nicely, including a new line character at the end.
All we need to do is to have this function applied to our mapping. Here
is what that would look like.</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="ocaml-module">MyUsers</span>.iter print_users m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout">fred sugarplums
mark ocamlrules
pete linux
tom ilovelucy
</span><span class="ocaml-stderr"></span>- : unit = ()
</span></code></pre>

<p>The reason we put our data into a mapping however is probably so we can
quickly find the data. Lets actually show how to do a find.</p>
<pre><code class="ocamltop"><span class="ocaml-prompt"># </span><span class="ocaml-input"><span class="ocaml-module">MyUsers</span>.find <span class="string">"fred"</span> m</span><span class="ocaml-prompt">;;</span><br><span class="ocaml-output"><span class="ocaml-stdout"></span><span class="ocaml-stderr"></span>- : string = "sugarplums"
</span></code></pre>

<p>This should quickly and efficienty return Fred's password: "sugarplums".</p>

      </div>
    </div>
    
    
  </div>
</div>

    
    <footer id="footer" class="navbar navbar-inverse">
      <div class="navbar-inner">
	<!-- footer							-*-html-*- -->
<div class="column">
  <div class="entry">
    <h1><a href="https://ocaml.org/learn/">Learn</a></h1>
    <ul>
      <li><a href="https://ocaml.org/learn/taste.html">Code Examples</a></li>
      <li><a href="https://ocaml.org/learn/tutorials/">Tutorials</a></li>
      <li><a href="https://ocaml.org/learn/books.html">Books</a></li>
      <li><a href="https://ocaml.org/learn/success.html">Success Stories</a></li>
      <li><a href="https://ocaml.org/learn/tutorials/"></a></li>
    </ul>
  </div>
</div>
<div class="column">
  <div class="entry">
    <h1><a href="https://ocaml.org/docs/">Documentation</a></h1>
    <ul>
      <li><a href="https://ocaml.org/docs/install.html">Install</a></li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/">Manual</a></li>
      <li><a href="https://opam.ocaml.org/packages/">Packages</a></li>
      <li><a href="https://ocaml.org/releases/index.html">Compiler Releases</a></li>
      <li><a href="https://ocaml.org/docs/logos.html">Logos</a></li>
    </ul>
  </div>
</div>
<div class="column">
  <div class="entry">
    <h1><a href="https://ocaml.org/community/">Community</a></h1>
    <ul>
      <li><a href="https://ocaml.org/community/mailing_lists.html">Mailing Lists</a></li>
      <li><a href="https://ocaml.org/meetings/">Meetings</a></li>
      <li><a href="https://ocaml.org/community/planet/">News</a></li>
      <li><a href="https://ocaml.org/community/support.html">Support</a></li>
      <li><a href="http://caml.inria.fr/mantis/my_view_page.php" target="_blank">Bug Tracker</a></li>
    </ul>
  </div>
</div>

<div class="column">
  <div class="entry">
    <h1>Contact</h1>
    <ul>
      <li><a href="https://github.com/ocaml/ocaml.org/issues" target="_blank">Website Issues</a></li>
      <li><a href="https://ocaml.org/about.html">About This Site</a></li>
    <li><a href="https://github.com/ocaml/ocaml.org/" target="_blank">Find Us on GitHub</a></li>
      <li><a href="https://ocaml.org/contributors.html">Credits</a></li>
    </ul>
  </div>
</div>

      </div>
    </footer>
    
    <!-- Load javascript from CDN -->
    <script type="text/javascript" src="Map%20%E2%80%93%20OCaml_fichiers/bootstrap.js"></script>

    
    <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37808023-1']);
    _gaq.push(['_setDomainName', 'ocaml.org']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    </script>
    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['setCookieDomain', '*.ocaml.org']);
      _paq.push(['setDocumentTitle', 'Map']);
      _paq.push(['setDoNotTrack', true]);
      _paq.push(['setCustomVariable', 1, 'Page language',
         'English',
         'page']);
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);

      (function() {
        var u=(('https:' == document.location.protocol) ? 'https' : 'http') + '://ocaml.org/piwik/';
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
        g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <noscript><p><img src="//ocaml.org/piwik/piwik.php?idsite=1"
		      style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code --> <!-- ifndef staging -->

  

</body></html>